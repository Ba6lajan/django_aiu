
# Сабақ 2: Django-дағы URL, View және Шаблондармен жұмыс

**Сабақтың мақсаты:**  
URL конфигурациясы, View функциялары және шаблондармен жұмыс істеуді тереңірек зерттеу.

---

### 1. Django-дағы URL конфигурациясы

Django-да URL конфигурациясы — белгілі бір URL жолдарын нақты View функцияларымен байланыстыру процесі. `urls.py` файлы сіздің веб-сайтыңыздың барлық маршруттарын қамтиды және оларды сәйкес View функцияларымен байланыстырады.

#### Негізгі тұстары:
- Әрбір URL нақты бір View-мен байланысады.
- Django URL-ді `urls.py` файлы арқылы өңдеп, қажетті View-ді табады.
- Егер URL табылмаса, Django 404 қатесін көрсетеді.

#### Мысал:

```python
from django.urls import path
from blog import views

urlpatterns = [
    path('', views.home, name='home'),
    path('about/', views.about, name='about'),
]
```

Бұл мысалда біз екі маршрутты анықтадық: бірі басты бетке, екіншісі "О нас" бетіне. Олар сәйкесінше `home` және `about` View функцияларына бағытталған.

---

### 2. View функциялары

View (көрініс) — бұл HTTP сұраныстарын өңдейтін және HTTP жауабын қайтаратын функция немесе класс. View функциясының басты міндеті — веб-бетке көрсетілетін деректерді дайындап, оны беру.

#### Маңызды нюанстар:
- View функциялары қарапайым (функция) немесе күрделі (класс негізіндегі) болуы мүмкін.
- View функциялары HTML беттерін, файлдарды, JSON және басқа деректерді қайтара алады.
- View функциясы әрқашан `HttpResponse` объектісін немесе оның туындыларын қайтарады.

#### Қарапайым View мысалы:

```python
from django.http import HttpResponse

def home(request):
    return HttpResponse("Басты бетке қош келдіңіз!")
```

#### Класс негізіндегі View:
Класс негізіндегі View-лар қарапайым тапсырмалармен жұмыс істеуді жеңілдетеді, мысалы, объектілер тізімін көрсету немесе формалармен жұмыс істеу.

---

### 3. Шаблондармен жұмыс

Шаблондар веб-сайтта мәліметтерді HTML форматында көрсету үшін қолданылады. Шаблон — бұл HTML коды бар файл, бірақ динамикалық контентті генерациялау үшін арнайы Django тегтері қолданылады.

#### Негізгі тұстары:
- Шаблондар `templates` директориясында сақталады.
- View функциясы мәліметтерді шаблонға контекст арқылы жібереді (словарь түрінде).
- Шаблондарда Django-ның арнайы тегтері арқылы циклдер, шарттар және басқа динамикалық элементтерді пайдалануға болады.

#### Мысал:

`home.html` шаблонын жасаймыз:

```html
<!-- blog/templates/home.html -->
<html>
  <body>
    <h1>Біздің сайтқа қош келдіңіз!</h1>
  </body>
</html>
```

Енді `home` View функциясын осы шаблонды қолданатындай өзгертіңіз:

```python
from django.shortcuts import render

def home(request):
    return render(request, 'home.html')
```

#### Мәліметтерді шаблонға жіберу:

```python
def home(request):
    context = {'welcome_message': 'Біздің сайтқа қош келдіңіз!'}
    return render(request, 'home.html', context)
```

Енді бұл мәнді `home.html` шаблонында қолдануға болады:

```html
<h1>{{ welcome_message }}</h1>
```

---

### Практикалық тапсырма

1. "Байланыс" бетін жасаңыз, онда есім және email енгізу өрістері бар форма болады.
2. Осы беттің маршрутын `urls.py` файлына қосыңыз.
3. Форма деректерін қабылдайтын және оларды жаңа бетте көрсететін View функциясын жасаңыз.
4. "Байланыс" беті үшін шаблонды жасаңыз, форма тегтерімен жұмыс жасаңыз.
