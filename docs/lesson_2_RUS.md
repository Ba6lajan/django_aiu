
# Урок 2: Работа с URL, Views и Шаблонами в Django

**Цель урока:**  
Углубленное изучение работы с URL конфигурацией, создания и использования представлений (Views) в Django, а также введение в работу с шаблонами.

---

### 1. URL конфигурация в Django

URL конфигурация в Django — это процесс связывания URL-адресов с определёнными представлениями (Views). Файл `urls.py` содержит все маршруты для вашего веб-сайта, которые сопоставляются с соответствующими функциями представления.

#### Основные моменты:
- Каждый URL маршрутизируется к определенному представлению.
- Django использует файл `urls.py`, чтобы связать определенные URL с соответствующими функциями.
- Если URL не найден в `urls.py`, Django выведет ошибку 404.

#### Пример:

```python
from django.urls import path
from blog import views

urlpatterns = [
    path('', views.home, name='home'),
    path('about/', views.about, name='about'),
]
```

Здесь мы определили два маршрута: один для главной страницы, второй для страницы "О нас". Они сопоставлены с соответствующими представлениями `home` и `about`.

---

### 2. Представления (Views)

Представление (View) — это функция или класс, который обрабатывает HTTP-запросы и возвращает HTTP-ответ. Основная задача представления — подготовить и передать данные, которые затем будут отображаться на веб-странице.

#### Важные нюансы:
- Представления могут быть простыми (функции) или сложными (классовые представления).
- Представления могут возвращать HTML-страницы, файлы, JSON или другие данные.
- Представление всегда должно возвращать объект `HttpResponse` или его производные.

#### Пример простого представления:

```python
from django.http import HttpResponse

def home(request):
    return HttpResponse("Добро пожаловать на главную страницу!")
```

#### Классовые представления:
Классовые представления упрощают работу с общими задачами, такими как отображение списков объектов или работа с формами.

---

### 3. Шаблоны в Django

Шаблоны используются для отображения данных в виде HTML страниц. Шаблон — это файл, содержащий HTML код, а также специальные Django теги для динамической генерации контента.

#### Основные моменты:
- Шаблоны хранятся в директории `templates`.
- Представление может передавать данные в шаблон через контекст (словарь).
- Шаблоны используют теги Django для циклов, условий и других динамических элементов.

#### Пример:

Создадим шаблон `home.html`:

```html
<!-- blog/templates/home.html -->
<html>
  <body>
    <h1>Добро пожаловать на наш сайт!</h1>
  </body>
</html>
```

Теперь изменим представление `home`, чтобы оно использовало этот шаблон:

```python
from django.shortcuts import render

def home(request):
    return render(request, 'home.html')
```

#### Передача данных в шаблон:

```python
def home(request):
    context = {'welcome_message': 'Добро пожаловать на наш сайт!'}
    return render(request, 'home.html', context)
```

И теперь в шаблоне `home.html` можно использовать это значение:

```html
<h1>{{ welcome_message }}</h1>
```

---

### Практическое задание

1. Создайте страницу "Контакты", где будет отображаться форма с полями для ввода имени и email.
2. Настройте маршрут для этой страницы в `urls.py`.
3. Создайте представление, которое принимает данные формы и выводит их на новой странице.
4. Настройте шаблон для страницы "Контакты", используйте теги Django для работы с формой.
